function bindAll(t,e){for(var i in t)t.hasOwnProperty(i)&&"function"==typeof t[i]&&(t[i]=t[i].bind(e));return t}function memberContainer(t){var e=$(t).closest("li.player, .floating-sidebar-container, .shot-byline .attribution, .hover-card .profile-head, .screenshot-meta, .overlay"),i=$("."+e.attr("class").match(/user-row-\d+/));return i.length?i:e}function initRecentActivity(){$("#t-activity").hover(function(){$("#t-activity .new-activity:visible").fadeOut("slow",function(){var t=$("#t-activity a:first-child").attr("href");$.post(t,{_method:"PUT"})})}).find(".activity-mini a.close").click(function(){$("#nav li ul.tabs").hide()})}function numberWithDelimiter(t){return t.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var e=document.createElement("style"),i=document.getElementsByTagName("script")[0],n=null;e.type="text/css",e.id="matchmediajs-test",i.parentNode.insertBefore(e,i),n="getComputedStyle"in window&&window.getComputedStyle(e,null)||e.currentStyle,t={matchMedium:function(t){var i="@media "+t+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=i:e.textContent=i,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var r,a,o,s,l,u,c,d;if(i.fire(n,"ajax:before")){if(s=n.data("cross-domain"),l=s===e?null:s,u=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){r=n.attr("method"),a=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(r=n.data("method"),a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(r=n.data("method")||"get",a=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(r=n.data("method"),a=i.href(n),o=n.data("params")||null);d={type:r||"GET",data:o,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),i.fire(n,"ajax:beforeSend",[t,r])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},u&&(d.xhrFields={withCredentials:u}),a&&(d.url=a);var f=i.ajax(d);return n.trigger("ajax:send",f),f}return!1},handleMethod:function(n){var r=i.href(n),a=n.data("method"),o=n.attr("target"),s=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&s!==e&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&u.attr("target",o),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),r=!1;return!n||(i.fire(t,"confirm")&&(r=i.confirm(n),e=i.fire(t,"confirm:complete",[r])),r&&e)},blankInputs:function(e,i,n){var r,a,o=t(),s=i||"input,textarea",l=e.find(s);return l.each(function(){if(r=t(this),a=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!a==!n){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;o=o.add(r)}}),!!o.length&&o},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(n){var r=t(this),a=r.data("method"),o=r.data("params");if(!i.allowAction(r))return i.stopEverything(n);if(r.is(i.linkDisableSelector)&&i.disableElement(r),r.data("remote")!==e){if((n.metaKey||n.ctrlKey)&&(!a||"GET"===a)&&!o)return!0;var s=i.handleRemote(r);return s===!1?i.enableElement(r):s.error(function(){i.enableElement(r)}),!1}return r.data("method")?(i.handleMethod(r),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var r=t(this),a=r.data("remote")!==e,o=i.blankInputs(r,i.requiredInputSelector),s=i.nonBlankInputs(r,i.fileInputSelector);if(!i.allowAction(r))return i.stopEverything(n);if(o&&r.attr("novalidate")==e&&i.fire(r,"ajax:aborted:required",[o]))return i.stopEverything(n);if(a){if(s){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var r=n.attr("name"),a=r?{name:r,value:n.val()}:null;n.closest("form").data("ujs:submit-button",a)}),n.delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),function(t){t.fn.ajaxSubmit=function(e){function i(){function i(){if(!f++){u.detachEvent?u.detachEvent("onload",i):u.removeEventListener("load",i,!1);var e=!0;try{if(p)throw"timeout";var r,o;if(o=u.contentWindow?u.contentWindow.document:u.contentDocument?u.contentDocument:u.document,d.responseText=o.body?o.body.innerHTML:null,d.responseXML=o.XMLDocument?o.XMLDocument:o,d.getResponseHeader=function(t){var e={"content-type":a.dataType};return e[t]},"json"==a.dataType||"script"==a.dataType){var s=o.getElementsByTagName("textarea")[0];d.responseText=s?s.value:d.responseText}else"xml"!=a.dataType||d.responseXML||null==d.responseText||(d.responseXML=n(d.responseText));r=t.httpData(d,a.dataType)}catch(i){e=!1,t.handleError(a,d,"error",i)}e&&(a.success(r,"success"),h&&t.event.trigger("ajaxSuccess",[d,a])),h&&t.event.trigger("ajaxComplete",[d,a]),h&&!--t.active&&t.event.trigger("ajaxStop"),a.complete&&a.complete(d,e?"success":"error"),setTimeout(function(){l.remove(),d.responseXML=null},100)}}function n(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.tagName?e:null}var r=s[0],a=t.extend({},t.ajaxSettings,e),o="jqFormIO"+(new Date).getTime(),l=t('<iframe id="'+o+'" name="'+o+'" />'),u=l[0],c=t.browser.opera&&window.opera.version()<9;(t.browser.msie||c)&&(u.src='javascript:false;document.write("");'),l.css({position:"absolute",top:"-1000px",left:"-1000px"});var d={responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){}},h=a.global;h&&!t.active++&&t.event.trigger("ajaxStart"),h&&t.event.trigger("ajaxSend",[d,a]);var f=0,p=0;setTimeout(function(){var n=s.attr("target"),c=s.attr("action");s.attr({target:o,encoding:"multipart/form-data",enctype:"multipart/form-data",method:"POST",action:a.url}),a.timeout&&setTimeout(function(){p=!0,i()},a.timeout);var d=[];try{if(e.extraData)for(var h in e.extraData)d.push(t('<input type="hidden" name="'+h+'" value="'+e.extraData[h]+'" />').appendTo(r)[0]);l.appendTo("body"),u.attachEvent?u.attachEvent("onload",i):u.addEventListener("load",i,!1),r.submit()}finally{s.attr("action",c),n?s.attr("target",n):s.removeAttr("target"),t(d).remove()}},10)}"function"==typeof e&&(e={success:e}),e=t.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},e||{});var n={};if(this.trigger("form-pre-serialize",[this,e,n]),n.veto)return this;var r=this.formToArray(e.semantic);if(e.data){e.extraData=e.data;for(var a in e.data)r.push({name:a,value:e.data[a]})}if(e.beforeSubmit&&e.beforeSubmit(r,this,e)===!1)return this;if(this.trigger("form-submit-validate",[r,this,e,n]),n.veto)return this;var o=t.param(r);"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+o,e.data=null):e.data=o;var s=this,l=[];if(e.resetForm&&l.push(function(){s.resetForm()}),e.clearForm&&l.push(function(){s.clearForm()}),!e.dataType&&e.target){var u=e.success||function(){};l.push(function(i){t(e.target).html(i).each(u,arguments)})}else e.success&&l.push(e.success);e.success=function(t,e){for(var i=0,n=l.length;i<n;i++)l[i](t,e,s)};for(var c=t("input:file",this).fieldValue(),d=!1,h=0;h<c.length;h++)c[h]&&(d=!0);return e.iframe||d?t.browser.safari&&e.closeKeepAlive?t.get(e.closeKeepAlive,i):i():t.ajax(e),this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(e){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){return t(this).ajaxSubmit(e),!1}).each(function(){t(":submit,input:image",this).bind("click.form-plugin",function(e){var i=this.form;if(i.clk=this,"image"==this.type)if(void 0!=e.offsetX)i.clk_x=e.offsetX,i.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var n=t(this).offset();i.clk_x=e.pageX-n.left,i.clk_y=e.pageY-n.top}else i.clk_x=e.pageX-this.offsetLeft,i.clk_y=e.pageY-this.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},10)})})},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin"),this.each(function(){t(":submit,input:image",this).unbind("click.form-plugin")})},t.fn.formToArray=function(e){var i=[];if(0==this.length)return i;var n=this[0],r=e?n.getElementsByTagName("*"):n.elements;if(!r)return i;for(var a=0,o=r.length;a<o;a++){var s=r[a],l=s.name;if(l)if(e&&n.clk&&"image"==s.type)s.disabled||n.clk!=s||i.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y});else{var u=t.fieldValue(s,!0);if(u&&u.constructor==Array)for(var c=0,d=u.length;c<d;c++)i.push({name:l,value:u[c]});else null!==u&&"undefined"!=typeof u&&i.push({name:l,value:u})}}if(!e&&n.clk)for(var h=n.getElementsByTagName("input"),a=0,o=h.length;a<o;a++){var f=h[a],l=f.name;l&&!f.disabled&&"image"==f.type&&n.clk==f&&i.push({name:l+".x",value:n.clk_x},{name:l+".y",value:n.clk_y})}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var a=0,o=r.length;a<o;a++)i.push({name:n,value:r[a]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;n<r;n++){var a=this[n],o=t.fieldValue(a,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(i,o):i.push(o))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,a=e.tagName.toLowerCase();if("undefined"==typeof i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==a&&e.selectedIndex==-1))return null;if("select"==a){var o=e.selectedIndex;if(o<0)return null;for(var s=[],l=e.options,u="select-one"==r,c=u?o+1:l.length,d=u?o:0;d<c;d++){var h=l[d];if(h.selected){var f=t.browser.msie&&!h.attributes.value.specified?h.text:h.value;if(u)return f;s.push(f)}}return s}return e.value},t.fn.clearForm=function(){return this.each(function(){t("input,select,textarea",this).clearFields()})},t.fn.clearFields=t.fn.clearInputs=function(){return this.each(function(){var t=this.type,e=this.tagName.toLowerCase();"text"==t||"password"==t||"textarea"==e?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==e&&(this.selectedIndex=-1)})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0==t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.select=function(e){return void 0==e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").select(!1),this.selected=e}})}}(jQuery),function(t){function e(t,e){return"function"==typeof t?t.call(e):t}function i(t){for(;t=t.parentNode;)if(t==document)return!0;return!1}function n(e,i){this.$element=t(e),this.options=i,this.enabled=!0,this.fixTitle()}n.prototype={show:function(){var i=this.getTitle();if(i&&this.enabled){var n=this.tip();n.find(".tipsy-inner")[this.options.html?"html":"text"](i),n[0].className="tipsy",n.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var r,a=t.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),o=n[0].offsetWidth,s=n[0].offsetHeight,l=e(this.options.gravity,this.$element[0]);switch(l.charAt(0)){case"n":r={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-o/2};break;case"s":r={top:a.top-s-this.options.offset,left:a.left+a.width/2-o/2};break;case"e":r={top:a.top+a.height/2-s/2,left:a.left-o-this.options.offset};break;case"w":r={top:a.top+a.height/2-s/2,left:a.left+a.width+this.options.offset}}2==l.length&&("w"==l.charAt(1)?r.left=a.left+a.width/2-15:r.left=a.left+a.width/2-o+15),n.css(r).addClass("tipsy-"+l),n.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+l.charAt(0),this.options.className&&n.addClass(e(this.options.className,this.$element[0])),this.options.fade?n.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):n.css({visibility:"visible",opacity:this.options.opacity})}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){t(this).remove()}):this.tip().remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("original-title"))&&t.attr("original-title",t.attr("title")||"").removeAttr("title")},getTitle:function(){var t,e=this.$element,i=this.options;this.fixTitle();var t,i=this.options;return"string"==typeof i.title?t=e.attr("title"==i.title?"original-title":i.title):"function"==typeof i.title&&(t=i.title.call(e[0])),t=(""+t).replace(/(^\s*|\s*$)/,""),t||i.fallback},tip:function(){return this.$tip||(this.$tip=t('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},t.fn.tipsy=function(e){function i(i){var r=t.data(i,"tipsy");return r||(r=new n(i,t.fn.tipsy.elementOptions(i,e)),t.data(i,"tipsy",r)),r}function r(){var t=i(this);t.hoverState="in",0==e.delayIn?t.show():(t.fixTitle(),setTimeout(function(){"in"==t.hoverState&&t.show()},e.delayIn))}function a(){var t=i(this);t.hoverState="out",0==e.delayOut?t.hide():setTimeout(function(){"out"==t.hoverState&&t.hide()},e.delayOut)}if(e===!0)return this.data("tipsy");if("string"==typeof e){var o=this.data("tipsy");return o&&o[e](),this}if(e=t.extend({},t.fn.tipsy.defaults,e),e.live||this.each(function(){i(this)}),"manual"!=e.trigger){var s=e.live?"live":"bind",l="hover"==e.trigger?"mouseenter":"focus",u="hover"==e.trigger?"mouseleave":"blur";this[s](l,r)[s](u,a)}return this},t.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},t.fn.tipsy.revalidate=function(){t(".tipsy").each(function(){var e=t.data(this,"tipsy-pointee");e&&i(e)||t(this).remove()})},t.fn.tipsy.elementOptions=function(e,i){return t.metadata?t.extend({},i,t(e).metadata()):i},t.fn.tipsy.autoNS=function(){return t(this).offset().top>t(document).scrollTop()+t(window).height()/2?"s":"n"},t.fn.tipsy.autoWE=function(){return t(this).offset().left>t(document).scrollLeft()+t(window).width()/2?"e":"w"},t.fn.tipsy.autoBounds=function(e,i){return function(){var n={ns:i[0],ew:i.length>1&&i[1]},r=t(document).scrollTop()+e,a=t(document).scrollLeft()+e,o=t(this);return o.offset().top<r&&(n.ns="n"),o.offset().left<a&&(n.ew="w"),t(window).width()+t(document).scrollLeft()-o.offset().left<e&&(n.ew="e"),t(window).height()+t(document).scrollTop()-o.offset().top<e&&(n.ns="s"),n.ns+(n.ew?n.ew:"")}}}(jQuery),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=c),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),r=n.data(E);r||(r=new i(this,e),n.data(E,r))})}function i(e,i){function n(e){if(!(ut()||t(e.target).closest(i.excludedElements,Vt).length>0)){var n,r=e.originalEvent?e.originalEvent:e,a=r.touches,o=a?a[0]:r;return qt=S,a?Kt=a.length:e.preventDefault(),Pt=0,Ft=null,Bt=null,Ut=0,Rt=0,_t=0,Mt=1,Nt=0,Qt=pt(),zt=gt(),st(),!a||Kt===i.fingers||i.fingers===y||z()?(dt(0,o),Wt=Ct(),2==Kt&&(dt(1,a[1]),Rt=_t=wt(Qt[0].start,Qt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=P(r,qt))):n=!1,n===!1?(qt=x,P(r,qt),n):(i.hold&&(te=setTimeout(t.proxy(function(){Vt.trigger("hold",[r.target]),i.hold&&(n=i.hold.call(Vt,r,r.target))},this),i.longTapThreshold)),ct(!0),null)}}function I(t){var e=t.originalEvent?t.originalEvent:t;if(qt!==$&&qt!==x&&!lt()){var n,r=e.touches,a=r?r[0]:e,o=ht(a);if(Gt=Ct(),r&&(Kt=r.length),i.hold&&clearTimeout(te),qt=T,2==Kt&&(0==Rt?(dt(1,r[1]),Rt=_t=wt(Qt[0].start,Qt[1].start)):(ht(r[1]),_t=wt(Qt[0].end,Qt[1].end),Bt=Tt(Qt[0].end,Qt[1].end)),Mt=St(Rt,_t),Nt=Math.abs(Rt-_t)),Kt===i.fingers||i.fingers===y||!r||z()){if(Ft=kt(o.start,o.end),N(t,Ft),Pt=$t(o.start,o.end),Ut=yt(),bt(Ft,Pt),(i.swipeStatus||i.pinchStatus)&&(n=P(e,qt)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var s=!0;if(i.triggerOnTouchLeave){var l=Dt(this);s=Et(o.end,l)}!i.triggerOnTouchEnd&&s?qt=j(T):i.triggerOnTouchLeave&&!s&&(qt=j($)),qt!=x&&qt!=$||P(e,qt)}}else qt=x,P(e,qt);n===!1&&(qt=x,P(e,qt))}}function A(t){var e=t.originalEvent?t.originalEvent:t,n=e.touches;return n&&n.length?(ot(),!0):(lt()&&(Kt=Yt),Gt=Ct(),Ut=yt(),R()||!U()?(qt=x,P(e,qt)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&qt===T?(t.preventDefault(),qt=$,P(e,qt)):!i.triggerOnTouchEnd&&X()?(qt=$,F(e,qt,p)):qt===T&&(qt=x,P(e,qt)),ct(!1),null)}function O(){Kt=0,Gt=0,Wt=0,Rt=0,_t=0,Mt=1,st(),ct(!1)}function L(t){var e=t.originalEvent?t.originalEvent:t;i.triggerOnTouchLeave&&(qt=j($),P(e,qt))}function H(){Vt.unbind(At,n),Vt.unbind(jt,O),Vt.unbind(Ot,I),Vt.unbind(Lt,A),Ht&&Vt.unbind(Ht,L),ct(!1)}function j(t){var e=t,n=M(),r=U(),a=R();return!n||a?e=x:!r||t!=T||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&t==$&&i.triggerOnTouchLeave&&(e=x):e=$,e}function P(t,e){var i,n=t.touches;return Q()||K()||V()||z()?((Q()||K())&&(i=F(t,e,h)),(V()||z())&&i!==!1&&(i=F(t,e,f))):rt()&&i!==!1?i=F(t,e,b):at()&&i!==!1?i=F(t,e,m):nt()&&i!==!1&&(i=F(t,e,p)),e===x&&O(t),e===$&&(n?n.length||O(t):O(t)),i}function F(e,n,c){var d;if(c==h){if(Vt.trigger("swipeStatus",[n,Ft||null,Pt||0,Ut||0,Kt,Qt]),i.swipeStatus&&(d=i.swipeStatus.call(Vt,e,n,Ft||null,Pt||0,Ut||0,Kt,Qt),d===!1))return!1;if(n==$&&q()){if(Vt.trigger("swipe",[Ft,Pt,Ut,Kt,Qt]),i.swipe&&(d=i.swipe.call(Vt,e,Ft,Pt,Ut,Kt,Qt),d===!1))return!1;switch(Ft){case r:Vt.trigger("swipeLeft",[Ft,Pt,Ut,Kt,Qt]),i.swipeLeft&&(d=i.swipeLeft.call(Vt,e,Ft,Pt,Ut,Kt,Qt));break;case a:Vt.trigger("swipeRight",[Ft,Pt,Ut,Kt,Qt]),i.swipeRight&&(d=i.swipeRight.call(Vt,e,Ft,Pt,Ut,Kt,Qt));break;case o:Vt.trigger("swipeUp",[Ft,Pt,Ut,Kt,Qt]),i.swipeUp&&(d=i.swipeUp.call(Vt,e,Ft,Pt,Ut,Kt,Qt));break;case s:Vt.trigger("swipeDown",[Ft,Pt,Ut,Kt,Qt]),i.swipeDown&&(d=i.swipeDown.call(Vt,e,Ft,Pt,Ut,Kt,Qt))}}}if(c==f){if(Vt.trigger("pinchStatus",[n,Bt||null,Nt||0,Ut||0,Kt,Mt,Qt]),i.pinchStatus&&(d=i.pinchStatus.call(Vt,e,n,Bt||null,Nt||0,Ut||0,Kt,Mt,Qt),d===!1))return!1;if(n==$&&B())switch(Bt){case l:Vt.trigger("pinchIn",[Bt||null,Nt||0,Ut||0,Kt,Mt,Qt]),i.pinchIn&&(d=i.pinchIn.call(Vt,e,Bt||null,Nt||0,Ut||0,Kt,Mt,Qt));break;case u:Vt.trigger("pinchOut",[Bt||null,Nt||0,Ut||0,Kt,Mt,Qt]),i.pinchOut&&(d=i.pinchOut.call(Vt,e,Bt||null,Nt||0,Ut||0,Kt,Mt,Qt))}}return c==p?n!==x&&n!==$||(clearTimeout(Zt),clearTimeout(te),Y()&&!tt()?(Jt=Ct(),Zt=setTimeout(t.proxy(function(){Jt=null,Vt.trigger("tap",[e.target]),i.tap&&(d=i.tap.call(Vt,e,e.target))},this),i.doubleTapThreshold)):(Jt=null,Vt.trigger("tap",[e.target]),i.tap&&(d=i.tap.call(Vt,e,e.target)))):c==b?n!==x&&n!==$||(clearTimeout(Zt),Jt=null,Vt.trigger("doubletap",[e.target]),i.doubleTap&&(d=i.doubleTap.call(Vt,e,e.target))):c==m&&(n!==x&&n!==$||(clearTimeout(Zt),Jt=null,Vt.trigger("longtap",[e.target]),i.longTap&&(d=i.longTap.call(Vt,e,e.target)))),d}function U(){var t=!0;return null!==i.threshold&&(t=Pt>=i.threshold),t}function R(){var t=!1;return null!==i.cancelThreshold&&null!==Ft&&(t=mt(Ft)-Pt>=i.cancelThreshold),t}function _(){return null===i.pinchThreshold||Nt>=i.pinchThreshold}function M(){var t;return t=!i.maxTimeThreshold||!(Ut>=i.maxTimeThreshold)}function N(t,e){if(i.preventDefaultEvents!==!1)if(i.allowPageScroll===c)t.preventDefault();else{var n=i.allowPageScroll===d;switch(e){case r:(i.swipeLeft&&n||!n&&i.allowPageScroll!=g)&&t.preventDefault();break;case a:(i.swipeRight&&n||!n&&i.allowPageScroll!=g)&&t.preventDefault();break;case o:(i.swipeUp&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault();break;case s:(i.swipeDown&&n||!n&&i.allowPageScroll!=v)&&t.preventDefault()}}}function B(){var t=W(),e=G(),i=_();return t&&e&&i}function z(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function V(){return!(!B()||!z())}function q(){var t=M(),e=U(),i=W(),n=G(),r=R(),a=!r&&n&&i&&e&&t;return a}function K(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function Q(){return!(!q()||!K())}function W(){return Kt===i.fingers||i.fingers===y||!k}function G(){return 0!==Qt[0].end.x}function X(){return!!i.tap}function Y(){return!!i.doubleTap}function J(){return!!i.longTap}function Z(){if(null==Jt)return!1;var t=Ct();return Y()&&t-Jt<=i.doubleTapThreshold}function tt(){return Z()}function et(){return(1===Kt||!k)&&(isNaN(Pt)||Pt<i.threshold)}function it(){return Ut>i.longTapThreshold&&Pt<w}function nt(){return!(!et()||!X())}function rt(){return!(!Z()||!Y())}function at(){return!(!it()||!J())}function ot(){Xt=Ct(),Yt=event.touches.length+1}function st(){Xt=0,Yt=0}function lt(){var t=!1;if(Xt){var e=Ct()-Xt;e<=i.fingerReleaseThreshold&&(t=!0)}return t}function ut(){return!(Vt.data(E+"_intouch")!==!0)}function ct(t){t===!0?(Vt.bind(Ot,I),Vt.bind(Lt,A),Ht&&Vt.bind(Ht,L)):(Vt.unbind(Ot,I,!1),Vt.unbind(Lt,A,!1),Ht&&Vt.unbind(Ht,L,!1)),Vt.data(E+"_intouch",t===!0)}function dt(t,e){var i=void 0!==e.identifier?e.identifier:0;return Qt[t].identifier=i,Qt[t].start.x=Qt[t].end.x=e.pageX||e.clientX,Qt[t].start.y=Qt[t].end.y=e.pageY||e.clientY,Qt[t]}function ht(t){var e=void 0!==t.identifier?t.identifier:0,i=ft(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function ft(t){for(var e=0;e<Qt.length;e++)if(Qt[e].identifier==t)return Qt[e]}function pt(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function bt(t,e){e=Math.max(e,mt(t)),zt[t].distance=e}function mt(t){if(zt[t])return zt[t].distance}function gt(){var t={};return t[r]=vt(r),t[a]=vt(a),t[o]=vt(o),t[s]=vt(s),t}function vt(t){return{direction:t,distance:0}}function yt(){return Gt-Wt}function wt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function St(t,e){var i=e/t*1;return i.toFixed(2)}function Tt(){return Mt<1?u:l}function $t(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function xt(t,e){var i=t.x-e.x,n=e.y-t.y,r=Math.atan2(n,i),a=Math.round(180*r/Math.PI);return a<0&&(a=360-Math.abs(a)),a}function kt(t,e){var i=xt(t,e);return i<=45&&i>=0?r:i<=360&&i>=315?r:i>=135&&i<=225?a:i>45&&i<135?s:o}function Ct(){var t=new Date;return t.getTime()}function Dt(e){e=t(e);var i=e.offset(),n={left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()};return n}function Et(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var It=k||D||!i.fallbackToMouseEvents,At=It?D?C?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Ot=It?D?C?"MSPointerMove":"pointermove":"touchmove":"mousemove",Lt=It?D?C?"MSPointerUp":"pointerup":"touchend":"mouseup",Ht=It?null:"mouseleave",jt=D?C?"MSPointerCancel":"pointercancel":"touchcancel",Pt=0,Ft=null,Ut=0,Rt=0,_t=0,Mt=1,Nt=0,Bt=0,zt=null,Vt=t(e),qt="start",Kt=0,Qt=null,Wt=0,Gt=0,Xt=0,Yt=0,Jt=0,Zt=null,te=null;try{Vt.bind(At,n),Vt.bind(jt,O)}catch(e){t.error("events not supported "+At+","+jt+" on jQuery.swipe")}this.enable=function(){return Vt.bind(At,n),Vt.bind(jt,O),Vt},this.disable=function(){return H(),Vt},this.destroy=function(){H(),Vt.data(E,null),Vt=null},this.option=function(e,n){if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var n="1.6.9",r="left",a="right",o="up",s="down",l="in",u="out",c="none",d="auto",h="swipe",f="pinch",p="tap",b="doubletap",m="longtap",g="horizontal",v="vertical",y="all",w=10,S="start",T="move",$="end",x="cancel",k="ontouchstart"in window,C=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,D=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,E="TouchSwipe",I={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:!0};t.fn.swipe=function(i){var n=t(this),r=n.data(E);if(r&&"string"==typeof i){if(r[i])return r[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.version=n,t.fn.swipe.defaults=I,t.fn.swipe.phases={PHASE_START:S,PHASE_MOVE:T,PHASE_END:$,PHASE_CANCEL:x},t.fn.swipe.directions={LEFT:r,RIGHT:a,UP:o,DOWN:s,IN:l,OUT:u},t.fn.swipe.pageScroll={NONE:c,HORIZONTAL:g,VERTICAL:v,AUTO:d},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}}),function(t,e){"use strict";var i=t.History=t.History||{},n=t.jQuery;if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={bind:function(t,e,i){n(t).bind(e,i)},trigger:function(t,e,i){n(t).trigger(e,i)},extractEventData:function(t,i,n){var r=i&&i.originalEvent&&i.originalEvent[t]||n&&n[t]||e;return r},onDomLoad:function(t){n(t)}},"undefined"!=typeof i.init&&i.init()}(window),function(t,e){"use strict";var i=t.console||e,n=t.document,r=t.navigator,a=!1,o=t.setTimeout,s=t.clearTimeout,l=t.setInterval,u=t.clearInterval,c=t.JSON,d=t.alert,h=t.History=t.History||{},f=t.history;try{a=t.sessionStorage,a.setItem("TEST","1"),a.removeItem("TEST")}catch(t){a=!1}if(c.stringify=c.stringify||c.encode,c.parse=c.parse||c.decode,"undefined"!=typeof h.init)throw new Error("History.js Core has already been loaded...");h.init=function(){return"undefined"!=typeof h.Adapter&&("undefined"!=typeof h.initCore&&h.initCore(),"undefined"!=typeof h.initHtml4&&h.initHtml4(),!0)},h.initCore=function(){if("undefined"!=typeof h.initCore.initialized)return!1;if(h.initCore.initialized=!0,h.options=h.options||{},h.options.hashChangeInterval=h.options.hashChangeInterval||100,h.options.safariPollInterval=h.options.safariPollInterval||500,h.options.doubleCheckInterval=h.options.doubleCheckInterval||500,h.options.disableSuid=h.options.disableSuid||!1,h.options.storeInterval=h.options.storeInterval||1e3,h.options.busyDelay=h.options.busyDelay||250,h.options.debug=h.options.debug||!1,h.options.initialTitle=h.options.initialTitle||n.title,h.options.html4Mode=h.options.html4Mode||!1,h.options.delayInit=h.options.delayInit||!1,h.intervalList=[],h.clearAllIntervals=function(){var t,e=h.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)u(e[t]);h.intervalList=null}},h.debug=function(){(h.options.debug||!1)&&h.log.apply(h,arguments)},h.log=function(){var t,e,r,a,o,s="undefined"!=typeof i&&"undefined"!=typeof i.log&&"undefined"!=typeof i.log.apply,l=n.getElementById("log");for(s?(a=Array.prototype.slice.call(arguments),t=a.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,a]):i.log.apply(i,[t,a])):t="\n"+arguments[0]+"\n",e=1,r=arguments.length;e<r;++e){if(o=arguments[e],"object"==typeof o&&"undefined"!=typeof c)try{o=c.stringify(o)}catch(t){}t+="\n"+o+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):s||d(t),!0},h.getInternetExplorerMajorVersion=function(){var t=h.getInternetExplorerMajorVersion.cached="undefined"!=typeof h.getInternetExplorerMajorVersion.cached?h.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4&&t}();return t},h.isInternetExplorer=function(){var t=h.isInternetExplorer.cached="undefined"!=typeof h.isInternetExplorer.cached?h.isInternetExplorer.cached:Boolean(h.getInternetExplorerMajorVersion());return t},h.options.html4Mode?h.emulated={pushState:!0,hashChange:!0}:h.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent)),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8)
},h.enabled=!h.emulated.pushState,h.bugs={setHash:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!h.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(h.isInternetExplorer()&&h.getInternetExplorerMajorVersion()<7)},h.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},h.cloneObject=function(t){var e,i;return t?(e=c.stringify(t),i=c.parse(e)):i={},i},h.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},h.getBaseHref=function(){var t=n.getElementsByTagName("base"),e=null,i="";return 1===t.length&&(e=t[0],i=e.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},h.getBaseUrl=function(){var t=h.getBaseHref()||h.getBasePageUrl()||h.getRootUrl();return t},h.getPageUrl=function(){var t,e=h.getState(!1,!1),i=(e||{}).url||h.getLocationHref();return t=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(t){return/\./.test(t)?t:t+"/"})},h.getBasePageUrl=function(){var t=h.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},h.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e="undefined"==typeof e||e,/[a-z]+\:\/\//.test(t)||(i="/"===n?h.getRootUrl()+t.replace(/^\/+/,""):"#"===n?h.getPageUrl().replace(/#.*/,"")+t:"?"===n?h.getPageUrl().replace(/[\?#].*/,"")+t:e?h.getBaseUrl()+t.replace(/^(\.\/)+/,""):h.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},h.getShortUrl=function(t){var e=t,i=h.getBaseUrl(),n=h.getRootUrl();return h.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),h.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},h.getLocationHref=function(t){return t=t||n,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:t.URL.indexOf("#")==-1&&t.location.href.indexOf("#")!=-1?t.location.href:t.URL||t.location.href},h.store={},h.idToState=h.idToState||{},h.stateToId=h.stateToId||{},h.urlToId=h.urlToId||{},h.storedStates=h.storedStates||[],h.savedStates=h.savedStates||[],h.normalizeStore=function(){h.store.idToState=h.store.idToState||{},h.store.urlToId=h.store.urlToId||{},h.store.stateToId=h.store.stateToId||{}},h.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var i=h.getLastSavedState();return!i&&e&&(i=h.createStateObject()),t&&(i=h.cloneObject(i),i.url=i.cleanUrl||i.url),i},h.getIdByState=function(t){var e,i=h.extractId(t.url);if(!i)if(e=h.getStateString(t),"undefined"!=typeof h.stateToId[e])i=h.stateToId[e];else if("undefined"!=typeof h.store.stateToId[e])i=h.store.stateToId[e];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof h.idToState[i]||"undefined"!=typeof h.store.idToState[i];);h.stateToId[e]=i,h.idToState[i]=t}return i},h.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=h.getFullUrl(t.url?t.url:h.getLocationHref()),e.hash=h.getShortUrl(e.url),e.data=h.cloneObject(t.data),e.id=h.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!h.isEmptyObject(e.data),(e.title||i)&&h.options.disableSuid!==!0&&(e.hash=h.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=h.getFullUrl(e.hash),(h.emulated.pushState||h.bugs.safariPoll)&&h.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},h.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=h.normalizeState(n)},h.getStateById=function(t){t=String(t);var i=h.idToState[t]||h.store.idToState[t]||e;return i},h.getStateString=function(t){var e,i,n;return e=h.normalizeState(t),i={data:e.data,title:t.title,url:t.url},n=c.stringify(i)},h.getStateId=function(t){var e,i;return e=h.normalizeState(t),i=e.id},h.getHashByState=function(t){var e,i;return e=h.normalizeState(t),i=e.hash},h.extractId=function(t){var e,i,n,r;return r=t.indexOf("#")!=-1?t.split("#")[0]:t,i=/(.*)\&_suid=([0-9]+)$/.exec(r),n=i?i[1]||t:t,e=i?String(i[2]||""):"",e||!1},h.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},h.extractState=function(t,e){var i,n,r=null;return e=e||!1,i=h.extractId(t),i&&(r=h.getStateById(i)),r||(n=h.getFullUrl(t),i=h.getIdByUrl(n)||!1,i&&(r=h.getStateById(i)),!r&&e&&!h.isTraditionalAnchor(t)&&(r=h.createStateObject(null,null,n))),r},h.getIdByUrl=function(t){var i=h.urlToId[t]||h.store.urlToId[t]||e;return i},h.getLastSavedState=function(){return h.savedStates[h.savedStates.length-1]||e},h.getLastStoredState=function(){return h.storedStates[h.storedStates.length-1]||e},h.hasUrlDuplicate=function(t){var e,i=!1;return e=h.extractState(t.url),i=e&&e.id!==t.id},h.storeState=function(t){return h.urlToId[t.url]=t.id,h.storedStates.push(h.cloneObject(t)),t},h.isLastSavedState=function(t){var e,i,n,r=!1;return h.savedStates.length&&(e=t.id,i=h.getLastSavedState(),n=i.id,r=e===n),r},h.saveState=function(t){return!h.isLastSavedState(t)&&(h.savedStates.push(h.cloneObject(t)),!0)},h.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?h.savedStates[h.savedStates.length-1]:t<0?h.savedStates[h.savedStates.length+t]:h.savedStates[t]},h.getCurrentIndex=function(){var t=null;return t=h.savedStates.length<1?0:h.savedStates.length-1},h.getHash=function(t){var e,i=h.getLocationHref(t);return e=h.getHashByUrl(i)},h.unescapeHash=function(t){var e=h.normalizeHash(t);return e=decodeURIComponent(e)},h.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},h.setHash=function(t,e){var i,r;return e!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.setHash,args:arguments,queue:e}),!1):(h.busy(!0),i=h.extractState(t,!0),i&&!h.emulated.pushState?h.pushState(i.data,i.title,i.url,!1):h.getHash()!==t&&(h.bugs.setHash?(r=h.getPageUrl(),h.pushState(null,null,r+"#"+t,!1)):n.location.hash=t),h)},h.escapeHash=function(e){var i=h.normalizeHash(e);return i=t.encodeURIComponent(i),h.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},h.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=h.unescapeHash(e)},h.setTitle=function(t){var e,i=t.title;i||(e=h.getStateByIndex(0),e&&e.url===t.url&&(i=e.title||h.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(t){}return n.title=i,h},h.queues=[],h.busy=function(t){if("undefined"!=typeof t?h.busy.flag=t:"undefined"==typeof h.busy.flag&&(h.busy.flag=!1),!h.busy.flag){s(h.busy.timeout);var e=function(){var t,i,n;if(!h.busy.flag)for(t=h.queues.length-1;t>=0;--t)i=h.queues[t],0!==i.length&&(n=i.shift(),h.fireQueueItem(n),h.busy.timeout=o(e,h.options.busyDelay))};h.busy.timeout=o(e,h.options.busyDelay)}return h.busy.flag},h.busy.flag=!1,h.fireQueueItem=function(t){return t.callback.apply(t.scope||h,t.args||[])},h.pushQueue=function(t){return h.queues[t.queue||0]=h.queues[t.queue||0]||[],h.queues[t.queue||0].push(t),h},h.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),h.busy()?h.pushQueue(t):h.fireQueueItem(t),h},h.clearQueue=function(){return h.busy.flag=!1,h.queues=[],h},h.stateChanged=!1,h.doubleChecker=!1,h.doubleCheckComplete=function(){return h.stateChanged=!0,h.doubleCheckClear(),h},h.doubleCheckClear=function(){return h.doubleChecker&&(s(h.doubleChecker),h.doubleChecker=!1),h},h.doubleCheck=function(t){return h.stateChanged=!1,h.doubleCheckClear(),h.bugs.ieDoubleCheck&&(h.doubleChecker=o(function(){return h.doubleCheckClear(),h.stateChanged||t(),!0},h.options.doubleCheckInterval)),h},h.safariStatePoll=function(){var e,i=h.extractState(h.getLocationHref());if(!h.isLastSavedState(i))return e=i,e||(e=h.createStateObject()),h.Adapter.trigger(t,"popstate"),h},h.back=function(t){return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.back,args:arguments,queue:t}),!1):(h.busy(!0),h.doubleCheck(function(){h.back(!1)}),f.go(-1),!0)},h.forward=function(t){return t!==!1&&h.busy()?(h.pushQueue({scope:h,callback:h.forward,args:arguments,queue:t}),!1):(h.busy(!0),h.doubleCheck(function(){h.forward(!1)}),f.go(1),!0)},h.go=function(t,e){var i;if(t>0)for(i=1;i<=t;++i)h.forward(e);else{if(!(t<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)h.back(e)}return h},h.emulated.pushState){var p=function(){};h.pushState=h.pushState||p,h.replaceState=h.replaceState||p}else h.onPopState=function(e,i){var n,r,a=!1,o=!1;return h.doubleCheckComplete(),n=h.getHash(),n?(r=h.extractState(n||h.getLocationHref(),!0),r?h.replaceState(r.data,r.title,r.url,!1):(h.Adapter.trigger(t,"anchorchange"),h.busy(!1)),h.expectedStateId=!1,!1):(a=h.Adapter.extractEventData("state",e,i)||!1,o=a?h.getStateById(a):h.expectedStateId?h.getStateById(h.expectedStateId):h.extractState(h.getLocationHref()),o||(o=h.createStateObject(null,null,h.getLocationHref())),h.expectedStateId=!1,h.isLastSavedState(o)?(h.busy(!1),!1):(h.storeState(o),h.saveState(o),h.setTitle(o),h.Adapter.trigger(t,"statechange"),h.busy(!1),!0))},h.Adapter.bind(t,"popstate",h.onPopState),h.pushState=function(e,i,n,r){if(h.getHashByUrl(n)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.pushState,args:arguments,queue:r}),!1;h.busy(!0);var a=h.createStateObject(e,i,n);return h.isLastSavedState(a)?h.busy(!1):(h.storeState(a),h.expectedStateId=a.id,f.pushState(a.id,a.title,a.url),h.Adapter.trigger(t,"popstate")),!0},h.replaceState=function(e,i,n,r){if(h.getHashByUrl(n)&&h.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&h.busy())return h.pushQueue({scope:h,callback:h.replaceState,args:arguments,queue:r}),!1;h.busy(!0);var a=h.createStateObject(e,i,n);return h.isLastSavedState(a)?h.busy(!1):(h.storeState(a),h.expectedStateId=a.id,f.replaceState(a.id,a.title,a.url),h.Adapter.trigger(t,"popstate")),!0};if(a){try{h.store=c.parse(a.getItem("History.store"))||{}}catch(t){h.store={}}h.normalizeStore()}else h.store={},h.normalizeStore();h.Adapter.bind(t,"unload",h.clearAllIntervals),h.saveState(h.storeState(h.extractState(h.getLocationHref(),!0))),a&&(h.onUnload=function(){var t,e,i;try{t=c.parse(a.getItem("History.store"))||{}}catch(e){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in h.idToState)h.idToState.hasOwnProperty(e)&&(t.idToState[e]=h.idToState[e]);for(e in h.urlToId)h.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=h.urlToId[e]);for(e in h.stateToId)h.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=h.stateToId[e]);h.store=t,h.normalizeStore(),i=c.stringify(t);try{a.setItem("History.store",i)}catch(t){if(t.code!==DOMException.QUOTA_EXCEEDED_ERR)throw t;a.length&&(a.removeItem("History.store"),a.setItem("History.store",i))}},h.intervalList.push(l(h.onUnload,h.options.storeInterval)),h.Adapter.bind(t,"beforeunload",h.onUnload),h.Adapter.bind(t,"unload",h.onUnload)),h.emulated.pushState||(h.bugs.safariPoll&&h.intervalList.push(l(h.safariStatePoll,h.options.safariPollInterval)),"Apple Computer, Inc."!==r.vendor&&"Mozilla"!==(r.appCodeName||"")||(h.Adapter.bind(t,"hashchange",function(){h.Adapter.trigger(t,"popstate")}),h.getHash()&&h.Adapter.onDomLoad(function(){h.Adapter.trigger(t,"hashchange")})))},(!h.options||!h.options.delayInit)&&h.init()}(window);var Dribbble=Dribbble||{};DEVICE_WIDTH_BREAKPOINT="800px",HIDPI_BREAKPOINT="(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-device-pixel-ratio: 1.5),(min-resolution: 1.5dppx)",$(document).ajaxSend(function(t,e){var i=$('meta[name="csrf-token"]').attr("content");e.setRequestHeader("X-CSRF-Token",i)}),$('a[href="#"]').click(function(t){t.preventDefault()}),User={loggedIn:function(){return $("body.logged-in").length>0},loggedOut:function(){return!this.loggedIn()},isPro:function(){return $("body.pro").length>0},isTeam:function(){return $("body.team").length>0},isSubscribedScout:function(){return $("body.scout").length>0}},initRecentActivity(),$(function(){$("[placeholder]").focus(function(){var t=$(this);t.val()==t.attr("placeholder")&&(t.val(""),t.removeClass("placeholder"))}).blur(function(){var t=$(this);""!=t.val()&&t.val()!=t.attr("placeholder")||(t.addClass("placeholder"),t.val(t.attr("placeholder")))}).blur(),$("[placeholder]").parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var t=$(this);t.val()==t.attr("placeholder")&&t.val("")})})}),$("#toggle-nav").click(function(){return $("#nav").toggleClass("nav-open"),$("body").toggleClass("scroll"),$("html, body").scrollTop(0),!1}),$(".places-location").hover(function(){return $(".places-location ul").toggle(),!1}),$("#t-community > a, #t-more > a, #t-profile > a").click(function(t){var e=$(this).parent();$("ul#nav").hasClass("nav-open")&&(t.preventDefault(),$(this).toggleClass("back-link"),$("#nav > li:not(#t-activity,#t-upld,#t-messages,#t-signin)").toggle(),e.toggle().toggleClass("nav-expanded"),$("html, body").scrollTop(0))});var notificationSelector=".subscribe-to-notification-target, .subscribe-to-notification";$(notificationSelector).on("ajax:success","a[data-method]",function(t,e){var i=$(t.target),n=$(i.parents(".subscribe-to-notification-target")[0]||i.closest(notificationSelector));n.addClass("subscribe-to-notification").html(e)}),jQuery.fn.showAndHide=function(t){return $(t).hide(),this.show()},jQuery.fn.modelId=function(){var t=$(this).attr("id");if(null==t)return null;var e=t.split(/[-_]/g);return e.length>1?e[e.length-1]:null},Notify={success:function(t){Notify.notify("success",t)},warning:function(t){Notify.notify("warning",t)},error:function(t){Notify.notify("error",t)},alert:function(t,e){var e=e||{},i=$(".notice-alert"),n=Math.max(0,$("#header").height()-$(document).scrollTop()),r=function(){i.fadeOut(500,function(){i.find("a.close").show()})};if($(document).keyup(function(t){27==t.which&&r()}),i.css({top:n+"px"}).find("h3").html(t).end().find("a.close").click(function(){r()}).end().show(),e.timeout){i.find("a.close").hide();var a=e.timeout;a="number"==typeof a?a:3e3,setTimeout(r,a)}},clear:function(){$(".notice").hide().removeClass("success warning error").find("h2").text("")},notify:function(t,e){Notify.clear(),$(".ajax.notice").find("h2").html(e).end().find("a.close").click(Notify.clear).end().addClass(t).show()},scrollTo:function(){$("html, body").scrollTop($(".notice").offset().top)}},$.fn.clank=function(t,e){if(null!=t){e="undefined"!=typeof e?e:{};var i=$(this).closest("fieldset");i.find(".errorExplanation").remove(),explanation='<div class="errorExplanation" id="errorExplanation">',e.noClank||(explanation+="<h2>Clank!</h2>"),explanation+="<ul><li>"+t+"</li></ul></div>",i.prepend(explanation),i.addClass("fieldWithErrors")}},ShowAndHideControl=function(t){var e=$(t.target),i=$(t.showControl),n=$(t.hideControl);i.click(function(){return e.showAndHide(i),!1}),n.click(function(){return e.hide(),i.show(),!1})},ResultsPane=function(t){$paneContainer=$(t||"#main");var e=$paneContainer.find(".results-pane"),i=$paneContainer.find("div.processing");return{waiting:function(){i.show(),e.css("opacity",.2)},finished:function(){i.hide(),e.css("opacity",1)},noResults:function(t){t=t||"None",e.html('<div class="null-message"><h2>'+t+"</h2></div>")}}},$("a[data-hover]").hover(function(){var t=$(this);t.attr("data-hover-out",t.text()).text(t.attr("data-hover"))},function(){var t=$(this);t.text(t.attr("data-hover-out")),t.removeAttr("data-hover-out")}),$(document).on("click","a.block",function(t){var e=this;$.post(e.href,function(){memberContainer(e).addClass("blocked-by-current-user").removeClass("followed-by-current-user listed-by-current-user")}),t.preventDefault()}),$(document).on("click","a.unblock",function(t){var e=this;$.ajax(e.href,{type:"DELETE",success:function(){memberContainer(e).removeClass("blocked-by-current-user")}}),t.preventDefault()}),$([".remove-from-team a",".leave-team a"]).each(function(t,e){$(document).on("click",".actions-list "+e,function(t){var e=this;$.ajax(e.href,{type:"DELETE",success:function(t){t.error?Notify.error(t.error):Notify.alert(t.success)}}),t.preventDefault()})}),window.matchMedia("screen and (min-width: "+DEVICE_WIDTH_BREAKPOINT+")").matches||$("#main .tabs > li.has-dd > a, div.full-tabs ul.full-tabs-links > li.more > a").click(function(){var t=$(this).parent();return t.hasClass("hover")?t.removeClass("hover"):($("#main .tabs > li.hover, div.full-tabs ul.full-tabs-links > li.hover").removeClass("hover"),t.addClass("hover")),!1}),function(){window.innerWidth<870&&$(".vertical-sidenav li.active a").click(function(t){t.preventDefault(),$(".vertical-sidenav").toggleClass("open")})}(),Dribbble.isHistorySupported=function(){return window.history&&"pushState"in window.history},Dribbble.isMobile=function(){return!!window.matchMedia("(max-width: 959px)").matches||!!Dribbble.isMobileSafari()},Dribbble.isMobileSafari=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod touch)/)},$("form").on("click",".add_fields",function(t){t.preventDefault();var e=(new Date).getTime(),i=new RegExp($(this).data("id"),"g"),n=$(this);$(this).data("before")&&(n=$($(this).data("before"))),n.before($(this).data("fields").replace(i,e))}),Dribbble.ActionMenu={bindEventListeners:function(){$("body").on({mouseenter:this.show.bind(this),mouseleave:this.hide.bind(this)},".actions-menu"),$(".action.settings, .action.grid").on("touchstart",this.toggle.bind(this)),$(".actions-list li a").click(function(t){this.hide(t)}.bind(this))},show:function(t){Dribbble.HoverCards&&Dribbble.HoverCards.dismiss(),$(t.target).closest(".actions-menu").addClass("active").find(".actions-list").show()},hide:function(t){$(t.target).closest(".actions-menu").removeClass("active").find(".actions-list").hide()},toggle:function(t){$(t.target).closest(".actions-menu").hasClass("active")?this.hide(t):this.show(t)}},Dribbble.ActionMenu.bindEventListeners(),Dribbble.defaultTipsyOptions={fade:!1,opacity:1,className:function(){return this.getAttribute("data-tipsy-class")},gravity:function(){var t=$(this);if(t.data("tipsy-gravity"))return t.data("tipsy-gravity");var e=100,i=t.offset(),n=i.left,r=i.top;return n<e?"sw":n>$(window).width()-e?r<e?"ne":"se":r<e?"n":"s"}},$("[rel*=tipsy]").tipsy(Dribbble.defaultTipsyOptions),$(document).ajaxSuccess(function(){$("[rel*=tipsy]").tipsy(Dribbble.defaultTipsyOptions)}),Dribbble.throttle=function(t,e,i){var n,r;return i=i||this,function(){var a=+new Date,o=arguments,s=function(){r=a,t.apply(i,o)};r&&a<r+e?n||(n=setTimeout(function(){s(),n=null},a-r+e)):s()}},Dribbble.Profile={init:function(){this.bindEventListeners(),this.fixProfileInfo()},bindEventListeners:function(){$(window).on("scroll.profile",Dribbble.throttle(this.fixProfileInfo.bind(this),25)),$(window).on("resize.profile",this.fixProfileInfo.bind(this)),$(".floating-sidebar-toggle").click(function(){return $(this).toggleClass("less"),$(".floating-sidebar-toggle span").text("More"==$(".floating-sidebar-toggle span").text()?"Less":"More"),$(".floating-sidebar-float").toggle(),$(".floating-sidebar-extra").toggle(),!1})},fixProfileInfo:function(){if(window.matchMedia("(max-width: 1180px)").matches)$(".floating-sidebar").removeClass("floating-sidebar-fixed");else{var t=$(window).scrollTop(),e=$(".floating-sidebar:visible").height(),i=t>e+200;$(".floating-sidebar-extra").toggle(!i),$(".floating-sidebar").toggleClass("floating-sidebar-fixed",i)}}},Dribbble.Profile.init(),Dribbble.FollowButton=function(t,e){return e=e||function(){return null},{initialize:function(){this.bindEventListeners()},bindEventListeners:function(){t.on("click.follow-buttton",".follow-prompt a.follow",this.follow.bind(this)),t.on("click.follow-buttton",".follow-prompt a.unfollow",this.unfollow.bind(this))},container:function(t){return t.data("container")?$(t.data("container")):memberContainer(t)},follow:function(t){var e=$(t.currentTarget),i=this.container(e);return i.hasClass("blocking-current-user")?(Notify.alert("You have been blocked from following this account at the request of the member."),!1):($.ajax(e.attr("href"),{type:"POST",beforeSend:function(){e.addClass("processing")}}).done(function(){i.addClass("followed-by-current-user"),this.modifyFollowerCount(1,i),this.logAnalyticsFollow(e,{action:"follow"})}.bind(this)).fail(function(t){Notify.alert(t.responseText)}).always(function(){e.removeClass("processing")}),!1)},unfollow:function(t){var e=$(t.currentTarget),i=this.container(e);return $.ajax(e.attr("href"),{type:"DELETE",beforeSend:function(){e.addClass("processing")}}).done(function(){i.removeClass("followed-by-current-user"),this.modifyFollowerCount(-1,i),this.logAnalyticsFollow(e,{action:"unfollow"})}.bind(this)).always(function(){e.removeClass("processing")}),!1},modifyFollowerCount:function(t,i){var n=e(i);if(n){var r=n.find(".meta"),a=n.find(".count"),o=parseInt(a.first().text().replace(",",""),10)+t;a.text(numberWithDelimiter(o)),1==o?r.text("Follower"):r.text("Followers")}},getAnalyticsInfo:function(t){return $container=t.closest(".follow-prompt"),[$container.data("ga-name"),$container.data("ga-key")]},logAnalyticsFollow:function(t,e){var i=this.getAnalyticsInfo(t);void 0!==i[0]&&Dribbble.Analytics.log(i[1],i[0],"event",{eventCategory:"Followers",eventAction:e.action||"follow"})}}},new Dribbble.FollowButton($("#wrap")).initialize(),new Dribbble.FollowButton($(".player-cards .player-info"),function(t){return t.find(".stat-followers")}).initialize(),new Dribbble.FollowButton($(".shot-overlay")).initialize(),new Dribbble.FollowButton($(".profile-essentials"),function(){return $(".full-tabs .full-tabs-links .followers")}).initialize(),Dribbble.Overlay={overlays:[],anyOpen:function(){for(i=0;i<this.overlays.length;i++)if(this.overlays[i].isOpen)return!0;return!1},applyOptions:function(t,e){var i=function(t){return[].concat(t||[])};return t.$el=e.$el,e.trigger&&(t.trigger=e.trigger,t.bindTrigger()),t.beforeShow=i(e.beforeShow),t.onShow=i(e.onShow),t.beforeHide=i(e.beforeHide),t.onHide=i(e.onHide),e.remoteContent&&(t.remoteContent=e.remoteContent,t.beforeShow.push(e.loadRemoteContent||t.defaultLoadRemoteContent.bind(t)),t.onHide.push(e.hideRemoteContent||t.defaultHideRemoteContent.bind(t))),t}},Dribbble.Overlay.Simple=function(t){Dribbble.Overlay.applyOptions(this,t),Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.Simple.prototype={isOpen:!1,currentTarget:null,_runCallbacks:function(t){var e=!0;return $.each(t,function(t,i){e&&0==i()&&(e=!1)}.bind(this)),e},bindTrigger:function(){$(this.trigger).click(function(t){t.preventDefault(),this.currentTarget=t.currentTarget,this.show()}.bind(this))},find:function(t){return this.$el.find(t)},defaultLoadRemoteContent:function(){var t=this.remoteContent.url||$(this.currentTarget||this.trigger).attr("href");$.isFunction(t)&&(t=t.apply(this)),$(this.remoteContent.el).load(t,(this.remoteContent.onComplete||$.noop).bind(this))},defaultHideRemoteContent:function(){$(this.remoteContent.el).html('<div class="processing">Loading\u2026</div>')},listenForEvents:function(){this.$el.on("click.overlay",".close",this.hide.bind(this)),this.$el.on("click.overlay","form .cancel",this.hide.bind(this)),this.suppressClickToClose||this.$el.on("click.overlay",function(t){$(t.target).is(this.$el)&&this.hide()}.bind(this)),this.keyListeners=Dribbble.Hotkeys.map("overlay",{ESCAPE:this.hide.bind(this)})},stopListeningForEvents:function(){this.$el.off("click.overlay"),this.keyListeners.off()},show:function(){return!!this._runCallbacks(this.beforeShow)&&(this.listenForEvents(),this.$el.css("height","100%"),this.$el.fadeIn(function(){this.$el.focus(),this._runCallbacks(this.onShow)}.bind(this)),this.isOpen=!0,!1)},hide:function(){return!!this._runCallbacks(this.beforeHide)&&(this.stopListeningForEvents(),this.$el.fadeOut(function(){this._runCallbacks(this.onHide)}.bind(this)),this.isOpen=!1,!1)}},Dribbble.Overlay.RemoteForm=function(t){Dribbble.Overlay.applyOptions(this,t),this.form=t.form,this.verb=t.verb||"POST",this.onSuccess=t.onSuccess||this.defaultOnSuccess.bind(this),this.onError=t.onError||this.defaultOnError.bind(this),this.containerToUpdateOnSuccess=t.containerToUpdateOnSuccess,this.containerToUpdateOnFailure=t.containerToUpdateOnFailure,this.successNotification=t.successNotification,Dribbble.Overlay.overlays.push(this)},Dribbble.Overlay.RemoteForm.prototype=$.extend({},Dribbble.Overlay.Simple.prototype,{defaultOnError:function(t){422==t.status?$(this.containerToUpdateOnFailure).html(t.responseText):Notify.alert(t.responseText)},listenForEvents:function(){Dribbble.Overlay.Simple.prototype.listenForEvents.apply(this),this.$el.on("submit.remoteOverlay",this.form||"form",this.submit.bind(this))},stopListeningForEvents:function(){Dribbble.Overlay.Simple.prototype.stopListeningForEvents.apply(this),this.$el.off("submit.remoteOverlay")},defaultOnSuccess:function(t){0==this.$el.find(this.containerToUpdateOnSuccess).length&&this.hide(),$(this.containerToUpdateOnSuccess).html(t),this.successNotification&&Notify.success(this.successNotification)},submit:function(t){t&&t.preventDefault();var e=this.find(this.form||"form");$.ajax({context:this,type:this.verb,url:e.attr("action"),data:e.serialize(),success:this.onSuccess,error:this.onError})}}),Dribbble.Overlay.Adapters={bind:function(t,e){var i=t.data(),n={$el:$(i.overlay||"#overlay"),trigger:t,form:i.form,containerToUpdateOnFailure:i.failureContainer||i.remoteContent&&i.remoteContent.container,containerToUpdateOnSuccess:i.successContainer,successNotification:i.notification};i.remoteContent&&(n.remoteContent={el:i.remoteContent.container,url:i.remoteContent.url}),t.data().overlayObj=new e(n)},SimpleTrigger:function(t){Dribbble.Overlay.Adapters.bind(t,Dribbble.Overlay.Simple)},RemoteFormTrigger:function(t){Dribbble.Overlay.Adapters.bind(t,Dribbble.Overlay.RemoteForm)},bindAll:function(){$(".overlay-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.SimpleTrigger($(this))}),$(".overlay-form-trigger").each(function(){$(this).data().overlayObj||new Dribbble.Overlay.Adapters.RemoteFormTrigger($(this))})}},Dribbble.Overlay.Adapters.bindAll(),$(document).ajaxComplete(function(){setTimeout(function(){Dribbble.Overlay.Adapters.bindAll()})}),Dribbble.ClickTracking={},Dribbble.ClickTracking.init=function(t){$(t||document).find("a[data-url]").each(function(){var t=$(this),e=t.data("url"),i=t.attr("href");t.data("url",i).attr("href",e)}).mousedown(function(){var t=$(this);t.attr("href",t.data("url"))})},Dribbble.ClickTracking.init(document),$(".psst .close").click(function(){var t=$(this),e=t.next(),i=e.next();$.post(e.data("url")),0==i.length?$(".psst").slideUp():e.fadeOut(function(){e.remove(),i.fadeIn()})}),Dribbble.Shots={data:{},loggingEnabled:!0,gaLoggingEnabled:!0,add:function(t){$(t).each(function(t,e){this.data[e.id]?this.update(e.id,e):this.data[e.id]=e}.bind(this))},update:function(t,e){var i=this.data[t];if(i){for(var n in e)i[n]=e[n];i.liker&&i.liker.render()}},idFromShotDiv:function(t){return t[0].id.split("-")[1]},logView:function(t){this.loggingEnabled&&(Dribbble.ShotViewRecorder.queueView(t),this.logAnalyticsView(t))},logViewForShotInDiv:function(t){this.logView(this.idFromShotDiv(t))},analyticsKeys:function(t){return this.gaLoggingEnabled&&this.data[t]?this.data[t].ga:[]},logAnalyticsView:function(t){for(var e=this.analyticsKeys(t),i=0;i<e.length;i++){var n=e[i],r=this.data[t];Dribbble.Analytics.logPageView(n[1],n[0],r.path,r.title)}},logAnalyticsLike:function(t,e){for(var i=this.analyticsKeys(t),n=0;n<i.length;n++){var r=i[n];Dribbble.Analytics.log(r[1],r[0],"event",{eventCategory:"Shots",eventAction:e.action||"like",eventLabel:"Shot: "+t})}}},Dribbble.TeaserStats={init:function(t){var e=$("#main ol.dribbbles>li");$(t).each(function(t,e){var i=$("ol.dribbbles li#screenshot-"+e.id);e.rebounds_count>0?i.find(".has-rebounds").html(numberWithDelimiter(e.rebounds_count)).closest("a").show():e.is_rebound&&i.find(".is-rebound").closest("a").show(),e.attachments_count>0&&i.find(".attachments-mark").show(),e.liked_by_html&&i.find(".dribbble-img").append(e.liked_by_html).find("em").hide(),i.find("li.views span").html(numberWithDelimiter(e.view_count)),i.find("li.cmnt").each(function(){var t=$(this);t.find("span").html(numberWithDelimiter(e.comments_count)).tipsy(Dribbble.defaultTipsyOptions)}),i.find(".timestamp").html(e.published_at),e.liker=new Dribbble.ShotLiker(e,i),e.liker.render()}),e.find("ul.tools").css({visibility:"visible"})}},Dribbble.ShotLiker=function(t,e){var i,n=!1;return{initialized:!1,init:function(){if(!this.initialized){if(i=e.find("li.fav"),User.loggedIn()){var t=function(t){return $(t.target).tipsy("hide"),this.toggle(),!1}.bind(this);$("<a href='#' class='toggle-fav'> </a>").insertBefore(i.find("a")).on("click",t),i.find("a").tipsy(Dribbble.defaultTipsyOptions)}this.initialized=!0}},render:function(){this.init();var e=i.find("a:last");e.html(numberWithDelimiter(t.likes_count)),i.toggleClass("marked",t.liked)},toggle:function(){n||(Dribbble.Shots.logAnalyticsView(t.id),like_or_unlike=t.liked?"unlike":"like",Dribbble.Shots.logAnalyticsLike(t.id,{action:like_or_unlike}),n=!0,this.toggleLikeState(),this.render(),this.persistState())},toggleLikeState:function(){Dribbble.Shots.update(t.id,{liked:!t.liked,likes_count:t.likes_count+(t.liked?-1:1)})},persistState:function(){var e={type:"POST",data:{screenshot_id:t.id},complete:function(){n=!1},error:function(){this.toggleLikeState(),this.render()}.bind(this)},i=t.liked;e.url=i?SHOT_LIKE_ADD_PATH:SHOT_LIKE_REMOVE_PATH,$.ajax(e)}}},"undefined"!=typeof newShots&&(Dribbble.Shots.add(newShots),Dribbble.TeaserStats.init(newShots));var Dribbble=Dribbble||{};Dribbble.String={capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}};var Dribbble=Dribbble||{};Dribbble.AdNetworks=Dribbble.AdNetworks||{},Dribbble.AdNetworks.Carbon={enabled:!1,scriptLoaded:!1,zones:{footer:"CVAIKKJM",shot:"CVAIP5QU"},enable:function(){this.enabled=!0,this.trackClicks()},ready:function(){return this.enabled&&"undefined"!=typeof _carbonads},trackClicks:function(){var t="click.ad-tracking",e=".ad.carbon";$(document).off(t).on(t,e+" a:not(.carbon-poweredby)",function(t){var i=$(t.currentTarget).parents(e).data("carbon-context");ga&&ga("send","event","Carbon","Click","Clicked a Carbon ad, "+Dribbble.String.capitalize(i),1)})},trackView:function(t){ga&&ga("send","event","Carbon","View","Viewed a Carbon ad, "+Dribbble.String.capitalize(t),1)},load:function(t){var e=this.zones[t];if(this.enabled&&e){var i=$(".carbon.notloaded");if(this.scriptLoaded&&this.ready())i.length>0&&(_carbonads.reload(i[0],e),this.trackView(t));else{var n=document.createElement("script");n.type="text/javascript",n.src="//cdn.carbonads.com/carbon.js?serve="+e+"&placement=dribbble",n.id="_carbonads_js",n.async=!0,n.onload=function(){this.scriptLoaded=!0,this.trackView(t)}.bind(this),i[0].appendChild(n)}i.removeClass("notloaded").data("carbon-context",t)}},shuffle:function(){this.ready()&&(_carbonads.refresh(),this.trackView("footer"))}},Dribbble.Ads=Dribbble.AdNetworks.Carbon,Dribbble.Hotkeys={listeners:{},KEY_ALIASES:{LEFT:37,RIGHT:39,ESCAPE:27,ENTER:13},initialize:function(){this.bindKeys()},bindKeys:function(){$(document).keyup(function(t){if(!this.isFormField(t.target.tagName)&&!this.isModifierKey(t)){var e=this.keyName(t.which);this.keyName&&this.trigger(e)}}.bind(this))},isFormField:function(t){return"INPUT"==t||"TEXTAREA"==t},isModifierKey:function(t){return t.ctrlKey||t.altKey||t.shiftKey||t.metaKey},keyName:function(t){var e=Dribbble.Hotkeys.KEY_ALIASES;for(var i in e)if(e[i]===t)return i;return String.fromCharCode(t)},map:function(t,e,i){return this.listeners[t]&&this.listeners[t].off(),this.listeners[t]=e,this.listeners[t].isApplicable=i||function(){return!0},this.listeners[t].off=function(){delete this.listeners[t]}.bind(this),this.listeners[t]},trigger:function(t){for(var e in this.listeners){var i=this.listeners[e];i[t]&&i.isApplicable()&&i[t]()}}},Dribbble.Hotkeys.TextAreaSubmission={eventName:"keydown.keyboardSubmit",shortcutCopy:(navigator.userAgent.match(/Macintosh/)?"\u2318":"ctrl")+"+enter",
enable:function(){$(document).off(this.eventName).on(this.eventName,"textarea",function(t){(t.metaKey||t.ctrlKey)&&t.keyCode==Dribbble.Hotkeys.KEY_ALIASES.ENTER&&(t.preventDefault(),$(this).closest("form").submit())}),this.fillShortcuts()},fillShortcuts:function(){$(".keyboard-submit-shortcut").text(this.shortcutCopy)}},Dribbble.Hotkeys.initialize(),Dribbble.Hotkeys.TextAreaSubmission.enable(),function(){var t,e=function(e){var i=$.trim($(".pagination:last").find(e).attr("href"));i&&(t.off(),document.location=i)};t=Dribbble.Hotkeys.map("list",{LEFT:function(){e(".previous_page")},RIGHT:function(){e(".next_page")}},function(){return!(!($(".previous_page:visible, .next_page:visible").length>0)||Dribbble.Overlay&&Dribbble.Overlay.anyOpen()||Dribbble.ShotOverlay&&Dribbble.ShotOverlay.isOpen())})}(),Dribbble.Router={initialize:function(){Dribbble.isHistorySupported&&History.Adapter.bind(window,"statechange",function(){var t=document.location.pathname;$(".attachment-overlay").is(":visible")?t.match(/\/attachments\//)?Dribbble.Attachments.showOverlay(document.location.toString()):Dribbble.Attachments.hideOverlay():t.match(/\/attachments\//)?"undefined"!=typeof Dribbble&&Dribbble.Attachments?Dribbble.Attachments.showOverlay(document.location.toString()):window.location.reload(!0):$("#viewer").length?window.location.reload(!0):Dribbble.ShotOverlay&&Dribbble.ShotOverlay.active?t.match(/\/shots\/[^\/]+$/)?Dribbble.ShotOverlay.show(document.location.toString()):Dribbble.ShotOverlay.hide():($(document).scrollTop(0),window.location.reload(!0))})},go:function(t){history.go(t)},pushState:function(t,e,i){History.pushState(t,e,i)}},Dribbble.Router.initialize(),Dribbble.ShotViewRecorder={seenShotIds:[],recordedIds:[],recordingDelay:3e3,recordingMaxQueueDepth:10,recordingTimeoutId:null,submitting:!1,queueView:function(t){this.seenShotIds.indexOf(t)==-1&&this.seenShotIds.push(t),this.queueRecordViewedShots()},queueRecordViewedShots:function(){clearTimeout(this.recordingTimeoutId);var t=this.recordingDelay;this.seenShotIds.length-this.recordedIds.length>=this.recordingMaxQueueDepth&&(t=0),this.recordingTimeoutId=setTimeout(function(){this.submitting?this.queueRecordViewedShots():this.recordViewedShots()}.bind(this),t)},recordViewedShots:function(){this.submitting=!0;var t=$(this.seenShotIds).not(this.recordedIds).get();if(t.length>0){var e=$.post("/shots/log_views",{ids:t});e.done(function(){this.recordedIds=this.recordedIds.concat(t)}.bind(this)),e.always(function(){this.submitting=!1}.bind(this))}else this.submitting=!1}},Dribbble.pathName=function(t){var e=document.createElement("a");e.href=t;var i=e.pathname;return"/"!=i.charAt(0)?"/"+i:i},Dribbble.Analytics={existingProperties:[],sentEvents:[],reset:function(){this.existingProperties=[],this.sentEvents=[],this.namedRoot=null},logDribbbleGAPageView:function(t){window.ga&&(t=Dribbble.pathName(t),"/"==t&&(t=Dribbble.Analytics.namedRoot||t),ga("send","pageview",t))},logPageView:function(t,e,i,n){this.log(t,e,"pageview",{page:i,title:n})},log:function(t,e,i,n,r){"undefined"==typeof ga?(r=2*(r||50),r<1e4&&setTimeout(function(){this.log(t,e,i,n,r)}.bind(this),r)):(this._createProperty(t,e),this._sendEvent(e,i,n))},_createProperty:function(t,e){this.existingProperties.indexOf(t)==-1&&(ga("create",t,"auto",{name:e}),this.existingProperties.push(t))},_sendEvent:function(t,e,i){i=i||{};var n=[t,e,$.param(i)].join("|");this.sentEvents.indexOf(n)==-1&&(ga(t+".send",e,i),this.sentEvents.push(n))}},Dribbble.AnimatedGifSwap={animatedUrl:function(t){return t.replace(/(.*)_(1x|still_2x|still|teaser)(.*?)$/,"$1$3")},attach:function(t,e){$(document).on({mouseenter:function(t){var i=this.swapperFor($(t.currentTarget),e);i.activate()}.bind(this),mouseleave:function(t){var e=this.swapperFor($(t.currentTarget));e.deactivate()}.bind(this)},t)},swapperFor:function(t,e){if(!t.data("gif-swapper")){var i=t;e.parentSelector&&(i=t.parents(e.parentSelector)),t.data("gif-swapper",new Dribbble.AnimatedGifSwap.Swapper(i,e.picSelector))}return t.data("gif-swapper")}},Dribbble.AnimatedGifSwap.LoadingIndicator=function(t){var e=[14,28,42,56],i=e.length+1,n=!1;return{activate:function(){n=!0,this.show(),this.progress()},deactivate:function(){n=!1,t.css("background-position-y",0)},hide:function(){t.hide()},progress:function(){n&&(i>0?i-=1:i=e.length,t.css("background-position-y",e[i]+"px"),setTimeout(this.progress.bind(this),250))},show:function(){t.show()}}},Dribbble.AnimatedGifSwap.Swapper=function(t,e){var i=t.find(e),n=new Dribbble.AnimatedGifSwap.LoadingIndicator(t.find(".gif-indicator"));return{$shot:t,$picture:i,loaded:!1,hovering:!1,activate:function(){this.hovering=!0,this.swapImage()},deactivate:function(){this.hovering=!1,this.restoreImage(),n.deactivate(),n.show()},loadImageInBackground:function(t,e){var i=new Image;i.onload=function(){this.loaded=!0,e()}.bind(this),i.src=t},restoreImage:function(){i.find("source, img").each(function(t,e){this.revertSrc($(e))}.bind(this))},swapImage:function(){if(this.loaded)i.find("source, img").each(function(t,e){this.updateSrc($(e))}.bind(this)),Dribbble.Shots.logViewForShotInDiv(t),n.deactivate(),n.hide();else{n.activate();var e=Dribbble.AnimatedGifSwap.animatedUrl(i.find("img").attr("src"));this.loadImageInBackground(e,function(){this.hovering&&this.swapImage()}.bind(this))}},updateSrc:function(t){var e=this.srcAttr(t),i=t.attr(e),n=Dribbble.AnimatedGifSwap.animatedUrl(i);"undefined"==typeof t.attr("data-originalsrc")&&t.attr("data-originalsrc",i),t.attr(e,n)},revertSrc:function(t){t.attr(this.srcAttr(t),t.attr("data-originalsrc"))},srcAttr:function(t){return t.is("img")?"src":"srcset"}}},Dribbble.HoverCards={fetchDelay:500,displayDelay:1e3,pendingDisplayId:null,pendingFetchId:null,tooCloseToTop:350,cache:{},displayedURL:null,dismissed:!1,cardBoundaries:null,wrapper:null,initialize:function(t){this.scopeSelector=t,this.bindEventListeners()},bindEventListeners:function(){$(this.scopeSelector).on("mouseenter.hovercard","a.hoverable",this.mouseenter.bind(this))},findCard:function(){var t=$(".hover-card");return t.length>0?t:($("body").prepend('<div class="hover-card"></div>'),new Dribbble.FollowButton($(".hover-card"),function(t){return t.parent().find(".followers")}).initialize(),this.findCard())},mouseenter:function(t){if(!t.ctrlKey&&!t.metaKey){var e=$(t.currentTarget),i=e.attr("href")+"/hover_card",n=this.displayedURL!=i;if(this.displayedURL)if(n)this.dismiss();else if(!this.dismissed)return!1;this.displayedURL=i,this.dismissed=!1;var r=+new Date,a=this.findCard();return this.wrapper=e.closest(".hover-card-parent"),0==this.wrapper.length&&(this.wrapper=e.parent()),this.addHandlerForDismissal(),this.cache[i]?(n&&a.html(this.cache[i]),this.delayedShow(a,r)):this.delayedFetch(a,i,r),!1}},dismiss:function(){this.dismissed&&!this.pendingDisplayId||(this.dismissed=!0,clearTimeout(this.pendingFetchId),clearTimeout(this.pendingDisplayId),this.pendingFetchId=this.pendingDisplayId=null,this.cardBoundaries=null,$(this.scopeSelector).off("mousemove.hovercard"),this.findCard().hide())},delayedShow:function(t,e){var i=this.displayDelay-(+new Date-e);this.triggerBoundaries=this.getBoundariesForElement(this.wrapper);var n=this.triggerBoundaries.left+t.outerWidth(),r=this.wrapper[0].getBoundingClientRect().top;t.toggleClass("center",n>document.documentElement.clientWidth),t.toggleClass("top",r<this.tooCloseToTop);var a={left:this.triggerBoundaries.left,bottom:"",top:""};r<this.tooCloseToTop?a.top=this.triggerBoundaries.top+this.wrapper.outerHeight():a.bottom=$(window).height()-this.triggerBoundaries.top,t.css(a),clearTimeout(this.pendingDisplayId),this.pendingDisplayId=setTimeout(function(){t.show(),this.cardBoundaries=this.getBoundariesForElement(t),r<this.tooCloseToTop?this.cardBoundaries.top-=this.wrapper.outerHeight():this.cardBoundaries.bottom+=this.wrapper.outerHeight()}.bind(this),i)},delayedFetch:function(t,e,i){clearTimeout(this.pendingFetchId),this.pendingFetchId=setTimeout(function(){this.dismissed||$.get(e,function(n){this.dismissed||(t.html(n).find("[rel=tipsy]").removeAttr("rel"),this.cache[e]=t.html(),this.delayedShow(t,i))}.bind(this))}.bind(this),this.fetchDelay)},checkShouldDismissOnMouseMove:function(t){this.mouseIn(t,this.cardBoundaries)||this.wrapper.is(":hover")||this.dismiss()},getBoundariesForElement:function(t){var e=t.offset();return e.right=t.outerWidth()+e.left,e.bottom=t.outerHeight()+e.top,e},mouseIn:function(t,e){return null!=e&&t.pageX>=e.left&&t.pageX<=e.right&&t.pageY>=e.top&&t.pageY<=e.bottom},addHandlerForDismissal:function(){this.removeHandlerForDismissal(),$(this.scopeSelector).on("mousemove.hovercard",this.checkShouldDismissOnMouseMove.bind(this))},removeHandlerForDismissal:function(){$(this.scopeSelector).off("mousemove.hovercard")}},Dribbble.isMobile()||Dribbble.HoverCards.initialize("body"),$(document).on("change keypress","form[data-warn-unsaved] input, form[data-warn-unsaved] textarea",function(){window.onbeforeunload=function(){return"You have unsaved changes."}}),$(document).on("submit","form[data-warn-unsaved]",function(){window.onbeforeunload=null}),Dribbble.ShareSheet=function(t){if(t=t||{},this.utm=t.utm,this.area=t.area,this.container=$(t.selector),this.body={raw:t.body,encoded:encodeURIComponent(t.body)},t.imageUrl&&(this.imageUrl={raw:t.imageUrl,encoded:encodeURIComponent(t.imageUrl)}),this.bodies={},t.bodies)for(var e in t.bodies)t.bodies.hasOwnProperty(e)&&(this.bodies[e]={raw:t.bodies[e],encoded:encodeURIComponent(t.bodies[e])});this.buildShareSheet(),this.bindEventListeners()},Dribbble.ShareSheet.prototype={buildShareSheet:function(){actions=['<div class="share-sheet">','<a href="#" class="share-twitter" title="Share on Twitter">Share on Twitter</a>','<a href="#" class="share-facebook" title="Share on Facebook">Share on Facebook</a>'],this.imageUrl&&actions.push('<a href="#" class="share-pinterest" title="Share on Pinterest">Share on Pinterest</a>'),actions.push('<a href="#" class="share-tumblr" title="Share on Tumblr">Share on Tumblr</a>','<a href="#" class="share-email" title="Share by Email">Share via Email</a>',"</div>"),this.container.html(actions.join(" "))},bindEventListeners:function(){this.container.find("a.share-twitter").click(this.shareTwitter.bind(this)),this.container.find("a.share-facebook").click(this.shareFacebook.bind(this)),this.container.find("a.share-pinterest").click(this.sharePinterest.bind(this)),this.container.find("a.share-tumblr").click(this.shareTumblr.bind(this)),this.container.find("a.share-email").click(this.shareEmail.bind(this))},shareFacebook:function(){var t="https://www.facebook.com/sharer/sharer.php?u="+this.url("Facebook").encoded;return window.open(t,"","height=350,width=600"),this.trackShare("Facebook"),!1},shareTwitter:function(){return window.open(this.twitterUrl(),"","status=0,toolbar=0,height=250,width=600"),this.trackShare("Twitter"),!1},sharePinterest:function(){var t="https://pinterest.com/pin/create/button/?url="+this.url("Pinterest").encoded+"&description="+this.body.encoded+"&media="+this.imageUrl.encoded;return window.open(t,"","height=260,width=600"),this.trackShare("Pinterest"),!1},shareTumblr:function(){var t="https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&url="+encodeURIComponent(window.location.href)+"&title="+this.body.encoded;return window.open(t,"","height=400,width=600"),this.trackShare("Tumblr"),!1},shareEmail:function(){var t="mailto:?&body="+this.body.encoded+encodeURIComponent("\n\n")+this.url("Email").encoded;return window.location.href=t,this.trackShare("Email"),!1},twitterUrl:function(){var t=this.body.encoded;return this.bodies.twitter&&(t=this.bodies.twitter.encoded),"https://twitter.com/intent/tweet?url="+this.url("Twitter").encoded+"&text="+t},url:function(t){var e=window.location.href;if(this.utm){var i=[];i.push("utm_source="+encodeURIComponent(t+"_"+this.utm.source)),i.push("utm_campaign="+encodeURIComponent(this.utm.campaign)),i.push("utm_content="+encodeURIComponent(this.utm.content)),i.push("utm_medium=Social_Share"),e+=e.indexOf("?")==-1?"?":"&",e+=i.join("&")}return{raw:e,encoded:encodeURIComponent(e)}},trackShare:function(t){ga("send",{hitType:"event",eventCategory:"Social Share ["+this.area+"]",eventAction:"share",eventLabel:t})}},Dribbble.SingleSubmit={},Dribbble.SingleSubmit.disableForm=function(t,e){e=e||"Processing\u2026",t.attr("disabled","disabled"),t.find("button[type=submit], input[type=submit]").attr("disabled","disabled"),t.find("button[type=submit]").each(function(t,e){$(e).data("original-preprocessing-text",$(e).text())}).text(e),t.find("input[type=submit]").each(function(t,e){$(e).data("original-preprocessing-text",$(e).val())}).val(e)},Dribbble.SingleSubmit.enableForm=function(t){t.removeAttr("disabled"),t.find("button[type=submit], input[type=submit]").removeAttr("disabled","disabled"),t.find("button[type=submit]").each(function(t,e){$(e).text($(e).data("original-preprocessing-text")||"Submit")}),t.find("input[type=submit]").each(function(t,e){$(e).val($(e).data("original-preprocessing-text")||"Submit")})},Dribbble.SingleSubmit.bind=function(t){$(t).off("submit.singleSubmit"),$(t).on("submit.singleSubmit",function(t){var e=$(t.currentTarget);Dribbble.SingleSubmit.disableForm(e)})},Dribbble.Meetup={initialize:function(){this.attendanceWrapper=$("#meetup-attendance-information"),this.bindEventListeners()},bindEventListeners:function(){var t=this;t.attendanceWrapper.on("submit","form",function(){return $form=$(this),$form.find("input[type=submit]").attr("disabled",!0).attr("value","Please wait\u2026"),$.ajax({type:$form.attr("method"),url:$form.attr("action"),data:$form.serialize(),success:function(e){t.attendanceWrapper.html(e)},error:function(t){401==t.status?window.location="/session/new?return_to="+window.location:Notify.error("Unable to RSVP: "+t.responseText)}}),!1})}},Dribbble.Meetup.initialize(),Dribbble.Autocomplete=function(t,e,i){var n,r=function(){if(t.autocomplete(e),n=t.data("uiAutocomplete"),e.renderer&&(n._renderItem=e.renderer),e.keypress&&t.on("keypress.autocomplete",e.keypress),e.stayOpenOnMetaSelect){var r,a=n.menu.select;n.menu.select=function(t){r=t.shiftKey||t.ctrlKey||t.metaKey,a.apply(this,arguments)};var o=n._close;n._close=function(){return!r&&o.apply(this,arguments)}}i&&i(n)};if(t.autocomplete)r(t);else{var a="keypress.autocomplete.preload";t.on(a,function(){t.off(a),$.getScript("/assets/jquery-ui-1.12.1-0b7bfb8126d3f3fadc488300dcac95f55c542ad4e4c37ca0f6f05ff875aff862.js",function(){r(),t.autocomplete("search",t.val())})})}},Dribbble.AutocompleteCache=function(){this.content={}},Dribbble.AutocompleteCache.prototype={lookup:function(t,e,i){if(this.content.hasOwnProperty(t))e(this.content[t]);else{var n=function(i){this.content[t]=i,e(i)}.bind(this);i(t,n)}},termHasNoResults:function(t){return void 0!=this.content[t]&&0==this.content[t].length},isDeadEnd:function(t){if(this.termHasNoResults(t))return!0;for(var e=1;e<t.length+1;e++)if(this.termHasNoResults(t.substring(0,e)))return!0;return!1}},Dribbble.SearchAutocomplete=function(t){this.$input=t,this.bindEventListeners()},Dribbble.SearchAutocomplete.prototype={bindEventListeners:function(){Dribbble.Autocomplete(this.$input,{minLength:3,autoFocus:!1,stayOpenOnMetaSelect:!0,open:function(){var t=$(".ui-autocomplete:visible"),e=t.position();t.find(".title").removeClass("ui-menu-item"),t.css({top:e.top+14+"px",left:e.left-15+"px",width:t.width()+30+"px"})},source:function(t,e){$.get("/search/autocomplete",{q:t.term},function(t){e($(t).find("li").map(function(t,e){var i=$(e).data("title"),n=$(e).find("a").attr("href");return{html:e.outerHTML,href:n,label:i,value:i}}))})},select:function(t,e){return t.shiftKey||t.ctrlKey||t.metaKey||(window.location=e.item.href),!1},renderer:function(t,e){return $(e.html).data("item.autocomplete",e).appendTo(t)}})}},$(function(){var t=$("#search .search-text");t.length&&!Dribbble.isMobile()&&new Dribbble.SearchAutocomplete(t)}),Dribbble.formatPrice=function(t){var e=t<0?"- ":"";return t=Math.abs(t),t=t.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),e+"$"+t.replace(/\.00$/,"")},Dribbble.Cart={initialize:function(t,e){this.isJobsPage=null!=window.jobCart,t.length&&(this.$cartContainer=t,this.$taxRateCell=this.$cartContainer.find("[data-payment-tax-rate]"),this.$taxAmountCell=this.$cartContainer.find("[data-payment-tax-amount]"),this.$cartTotalCell=this.$cartContainer.find("[data-payment-total] .total"),this.setBasePrice(this.$cartContainer.attr("data-payment-table")),this.alwaysShowTotal=this.$cartContainer.hasClass("show-total")),this.$postalCodeField=e,this.$postalCodeField.on("input.postal-code",this.updatePostalCode.bind(this)),this.isJobsPage&&$('.job-extras input[type="checkbox"]').on("change.job-extras",function(){e.trigger("input.postal-code")});var i=e.filter("#existing_postal_code");i.length&&i.trigger("input.postal-code")},sumJobCart:function(){return jobCart.calculatePriceData().map(function(t){return t.price}).reduce(function(t,e){return t+e})},postalCodeTaxes:function(t){var e={amount:0,type:"error",name:"Incorrect postal code value"};return{a:{amount:13,type:"HST",name:"Newfoundland and Labrador"},b:{amount:15,type:"HST",name:"Nova Scotia"},c:{amount:15,type:"GST",name:"Prince Edward Island"},e:{amount:13,type:"HST",name:"New Brunswick"},g:{amount:5,type:"GST",name:"Quebec"},h:{amount:5,type:"GST",name:"Quebec"},j:{amount:5,type:"GST",name:"Quebec"},k:{amount:13,type:"HST",name:"Ontario"},l:{amount:13,type:"HST",name:"Ontario"},m:{amount:13,type:"HST",name:"Ontario"},n:{amount:13,type:"HST",name:"Ontario"},p:{amount:13,type:"HST",name:"Ontario"},r:{amount:5,type:"GST",name:"Manitoba"},s:{amount:5,type:"GST",name:"Saskatchewan"},t:{amount:5,type:"GST",name:"Alberta"},v:{amount:5,type:"GST",name:"British Columbia"},x:{amount:5,type:"GST",name:"Northwest Territories and Nunavut"},y:{amount:5,type:"GST",name:"Yukon"}}[t]||e},checkPostalCode:function(t){var e=function(t){return t.replace(/\W/g,"").toLowerCase()},i=function(t){var e=t.split(""),i=6===e.length,n=/^[a-z]+$/.test([e[0],e[2],e[4]].join("")),r=/^\d+$/.test([e[1],e[3],e[5]].join(""));return i&&n&&r},n=e(t);return i(n)?this.postalCodeTaxes(n.charAt(0)):null},setBasePrice:function(t){this.basePrice=parseInt(t)},update:function(t){this.setBasePrice(t),this.$postalCodeField.filter(":visible").length?this.$postalCodeField.filter(":visible").trigger("input.postal-code"):this.$postalCodeField.filter("[type=hidden]").trigger("input.postal-code")},updatePostalCode:function(t){var e=$(t.target).val(),i=this.isJobsPage?this.sumJobCart():this.basePrice,n=this.checkPostalCode(e);if(n){var r=i*(.01*n.amount),a=i+r,o=n.amount+"% "+n.type+" tax";this.isJobsPage?jobCart.renderPriceTable({price:r,description:o}):null!=this.$cartContainer&&(this.$taxRateCell.text(o),this.$taxAmountCell.text(Dribbble.formatPrice(r)),this.$cartTotalCell.text(Dribbble.formatPrice(a)),this.$cartContainer.addClass("show-total show-taxes"))}else if(this.isJobsPage)jobCart.renderPriceTable();else if(null!=this.$cartContainer){var s="show-taxes"+(this.alwaysShowTotal?"":" show-total");this.$cartContainer.removeClass(s),this.$cartTotalCell.text("$"+this.basePrice)}}};